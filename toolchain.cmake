set(CMAKE_SYSTEM_NAME Linux)
set(TARGET x86_64-unknown-linux-musl)
set(LLVM_PATH /usr/local/opt/llvm/bin)

set(CMAKE_C_COMPILER ${LLVM_PATH}/clang)
set(CMAKE_CXX_COMPILER ${LLVM_PATH}/clang++)
set(CMAKE_ASM_COMPILER ${LLVM_PATH}/clang)
set(CMAKE_AR ${LLVM_PATH}/llvm-ar)
set(CMAKE_RANLIB ${LLVM_PATH}/llvm-ranlib)
set(CMAKE_OBJCOPY ${LLVM_PATH}/llvm-objcopy)
set(CMAKE_OBJDUMP ${LLVM_PATH}/llvm-objdump)
set(CMAKE_C_COMPILER_TARGET ${TARGET})
set(CMAKE_CXX_COMPILER_TARGET ${TARGET})
set(CMAKE_ASM_COMPILER_TARGET ${TARGET})
set(CMAKE_SYSROOT ${CMAKE_CURRENT_LIST_DIR})
set(CMAKE_C_STANDARD_INCLUDE_DIRECTORIES ${CMAKE_SYSROOT}/include)
set(CMAKE_CXX_STANDARD_INCLUDE_DIRECTORIES ${CMAKE_SYSROOT}/include/c++/v1 ${CMAKE_SYSROOT}/include)
set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)

set(CMAKE_C_FLAGS_INIT "-nostdinc -fno-rtti")
set(CMAKE_C_STANDARD_LIBRARIES "-L${CMAKE_SYSROOT}/lib -l:crt1.o -l:crti.o -l:crtn.o -lc")
set(CMAKE_C_LINK_EXECUTABLE "${LLVM_PATH}/ld.lld <CMAKE_C_LINK_FLAGS> <LINK_FLAGS> <OBJECTS> -o <TARGET> <LINK_LIBRARIES>")

set(CMAKE_CXX_EXTENSIONS OFF)
set(CMAKE_CXX_FLAGS_INIT "${CMAKE_C_FLAGS_INIT} -stdlib=libc++")
set(CMAKE_CXX_STANDARD_LIBRARIES "-L${CMAKE_SYSROOT}/lib -l:crt1.o -l:crti.o -l:crtn.o -lc++ -lc++abi -lunwind -lm -lc")
set(CMAKE_CXX_LINK_EXECUTABLE "${LLVM_PATH}/ld.lld <CMAKE_CXX_LINK_FLAGS> <LINK_FLAGS> <OBJECTS> -o <TARGET> <LINK_LIBRARIES>")

